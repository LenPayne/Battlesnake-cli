# Battlesnake CLI

This is, so far, the result of a weekend project to run games locally. It 
is not perfect. It is arguably not even good. But it allows playing games by 
the official rules, and that counts for something.

I had never written a line of Go when I woke up this morning, so I have almost 
certainly committed grave sins. PRs are welcome.

Notably, I am aware that it doesn't concurrently poll for move requests. That
will be the biggest speed-up for another day.

I do plan to package this as a PR onto the [BattlesnakeOfficial/rules](https://github.com/BattlesnakeOfficial/rules) 
repo eventually, after some polishing.

## To-Do List

I don't expect this repo to last long enough for the Issue workflow to be worth
using, so I'll provide here some short-term plans and things I'm thinking of:

* Sending the /end request to Snakes at the end of the game
* A flag to set request timeout values
* Making the request-sending parallel by default, to speed up execution
* A flag to un-parallel request-sending, to better enable debugging
* A flag to use different game types (royale, squad, solo, etc)
* Various levels of verbosity (eg- quiet, errors-only, states, or full-maps)
* Integrating the whole kit-and-kaboodle into the official rules Repo

## Usage

### Build It
```
go build
```

### Run It
```
Usage:
  battlesnake-cli [OPTIONS]

Application Options:
  -w, --width=  Width of Board
  -h, --height= Height of Board
  -n, --name=   Name of Snake
  -u, --url=    URL of Snake

Help Options:
  -h, --help    Show this help message
```

Names and URLs will be paired together in sequence, so in the following example
it effectively makes:

* Snake1: http://snake1-url-whatever:port
* Snake2: http://snake2-url-whatever:port

Names are optional, but definitely way easier to read than UUIDs. URLs are
optional too, but your snake will lose if the server is only sending move
requests to http://example.com.


```
./battlesnake-cli --width 7 --height 7 --name Snake1 --url http://snake1-url-whatever:port --name Snake2 --url http://snake2-url-whatever:port
```

### Sample Output
```
$ ./battlesnake-cli --width 11 --height 11 --url http://redacted:4567/ --url http://redacted:4568/ --name Bob --name Sue
2020/10/25 00:45:32 [1]: &{11 11 [{8 0} {0 0} {5 5}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{8 1} {9 1} {9 1}] 99  } {9dde42b6-a433-473f-85f7-7d286d570363 [{0 1} {1 1} {1 1}] 99  }]}
2020/10/25 00:45:33 [2]: &{11 11 [{8 0} {0 0} {5 5}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{8 2} {8 1} {9 1}] 98  } {9dde42b6-a433-473f-85f7-7d286d570363 [{0 2} {0 1} {1 1}] 98  }]}
2020/10/25 00:45:33 [3]: &{11 11 [{8 0} {0 0} {5 5}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{7 2} {8 2} {8 1}] 97  } {9dde42b6-a433-473f-85f7-7d286d570363 [{1 2} {0 2} {0 1}] 97  }]}
2020/10/25 00:45:33 [4]: &{11 11 [{8 0} {0 0} {5 5}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{7 1} {7 2} {8 2}] 96  } {9dde42b6-a433-473f-85f7-7d286d570363 [{1 3} {1 2} {0 2}] 96  }]}
2020/10/25 00:45:34 [5]: &{11 11 [{8 0} {0 0} {5 5}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{8 1} {7 1} {7 2}] 95  } {9dde42b6-a433-473f-85f7-7d286d570363 [{0 3} {1 3} {1 2}] 95  }]}
2020/10/25 00:45:34 [6]: &{11 11 [{8 0} {0 0} {5 5}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{8 2} {8 1} {7 1}] 94  } {9dde42b6-a433-473f-85f7-7d286d570363 [{0 4} {0 3} {1 3}] 94  }]}
2020/10/25 00:45:34 [7]: &{11 11 [{8 0} {0 0} {5 5}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{7 2} {8 2} {8 1}] 93  } {9dde42b6-a433-473f-85f7-7d286d570363 [{1 4} {0 4} {0 3}] 93  }]}
2020/10/25 00:45:34 [8]: &{11 11 [{8 0} {0 0} {5 5}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{7 1} {7 2} {8 2}] 92  } {9dde42b6-a433-473f-85f7-7d286d570363 [{1 5} {1 4} {0 4}] 92  }]}
2020/10/25 00:45:34 [9]: &{11 11 [{8 0} {0 0} {5 5}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{8 1} {7 1} {7 2}] 91  } {9dde42b6-a433-473f-85f7-7d286d570363 [{2 5} {1 5} {1 4}] 91  }]}
2020/10/25 00:45:35 [10]: &{11 11 [{8 0} {0 0} {5 5}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{8 2} {8 1} {7 1}] 90  } {9dde42b6-a433-473f-85f7-7d286d570363 [{3 5} {2 5} {1 5}] 90  }]}
2020/10/25 00:45:35 [11]: &{11 11 [{8 0} {0 0} {5 5}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{7 2} {8 2} {8 1}] 89  } {9dde42b6-a433-473f-85f7-7d286d570363 [{4 5} {3 5} {2 5}] 89  }]}
2020/10/25 00:45:35 [12]: &{11 11 [{8 0} {0 0}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{7 1} {7 2} {8 2}] 88  } {9dde42b6-a433-473f-85f7-7d286d570363 [{5 5} {4 5} {3 5} {3 5}] 100  }]}
2020/10/25 00:45:35 [13]: &{11 11 [{8 0} {0 0}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{8 1} {7 1} {7 2}] 87  } {9dde42b6-a433-473f-85f7-7d286d570363 [{6 5} {5 5} {4 5} {3 5}] 99  }]}
2020/10/25 00:45:35 [14]: &{11 11 [{8 0} {0 0}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{8 2} {8 1} {7 1}] 86  } {9dde42b6-a433-473f-85f7-7d286d570363 [{7 5} {6 5} {5 5} {4 5}] 98  }]}
2020/10/25 00:45:35 [15]: &{11 11 [{8 0} {0 0}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{7 2} {8 2} {8 1}] 85  } {9dde42b6-a433-473f-85f7-7d286d570363 [{8 5} {7 5} {6 5} {5 5}] 97  }]}
2020/10/25 00:45:36 [16]: &{11 11 [{8 0} {0 0}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{7 1} {7 2} {8 2}] 84  } {9dde42b6-a433-473f-85f7-7d286d570363 [{8 6} {8 5} {7 5} {6 5}] 96  }]}
2020/10/25 00:45:36 [17]: &{11 11 [{8 0} {0 0}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{8 1} {7 1} {7 2}] 83  } {9dde42b6-a433-473f-85f7-7d286d570363 [{7 6} {8 6} {8 5} {7 5}] 95  }]}
2020/10/25 00:45:36 [18]: &{11 11 [{8 0} {0 0}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{8 2} {8 1} {7 1}] 82  } {9dde42b6-a433-473f-85f7-7d286d570363 [{7 5} {7 6} {8 6} {8 5}] 94  }]}
2020/10/25 00:45:36 [19]: &{11 11 [{8 0} {0 0}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{7 2} {8 2} {8 1}] 81  } {9dde42b6-a433-473f-85f7-7d286d570363 [{8 5} {7 5} {7 6} {8 6}] 93  }]}
2020/10/25 00:45:36 [20]: &{11 11 [{8 0} {0 0}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{7 1} {7 2} {8 2}] 80  } {9dde42b6-a433-473f-85f7-7d286d570363 [{8 6} {8 5} {7 5} {7 6}] 92  }]}
2020/10/25 00:45:37 [21]: &{11 11 [{8 0} {0 0}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{8 1} {7 1} {7 2}] 79  } {9dde42b6-a433-473f-85f7-7d286d570363 [{7 6} {8 6} {8 5} {7 5}] 91  }]}
2020/10/25 00:45:37 [22]: &{11 11 [{8 0} {0 0}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{8 2} {8 1} {7 1}] 78  } {9dde42b6-a433-473f-85f7-7d286d570363 [{7 5} {7 6} {8 6} {8 5}] 90  }]}
2020/10/25 00:45:37 [23]: &{11 11 [{8 0} {0 0} {2 6}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{7 2} {8 2} {8 1}] 77  } {9dde42b6-a433-473f-85f7-7d286d570363 [{8 5} {7 5} {7 6} {8 6}] 89  }]}
2020/10/25 00:45:37 [24]: &{11 11 [{8 0} {0 0} {2 6}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{7 1} {7 2} {8 2}] 76  } {9dde42b6-a433-473f-85f7-7d286d570363 [{8 6} {8 5} {7 5} {7 6}] 88  }]}
2020/10/25 00:45:37 [25]: &{11 11 [{8 0} {0 0} {2 6}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{8 1} {7 1} {7 2}] 75  } {9dde42b6-a433-473f-85f7-7d286d570363 [{7 6} {8 6} {8 5} {7 5}] 87  }]}
2020/10/25 00:45:38 [26]: &{11 11 [{8 0} {0 0} {2 6} {2 3}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{8 2} {8 1} {7 1}] 74  } {9dde42b6-a433-473f-85f7-7d286d570363 [{6 6} {7 6} {8 6} {8 5}] 86  }]}
2020/10/25 00:45:38 [27]: &{11 11 [{8 0} {0 0} {2 6} {2 3} {4 4}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{7 2} {8 2} {8 1}] 73  } {9dde42b6-a433-473f-85f7-7d286d570363 [{5 6} {6 6} {7 6} {8 6}] 85  }]}
2020/10/25 00:45:38 [28]: &{11 11 [{8 0} {0 0} {2 6} {2 3} {4 4}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{7 1} {7 2} {8 2}] 72  } {9dde42b6-a433-473f-85f7-7d286d570363 [{4 6} {5 6} {6 6} {7 6}] 84  }]}
2020/10/25 00:45:38 [29]: &{11 11 [{8 0} {0 0} {2 6} {2 3} {4 4}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{8 1} {7 1} {7 2}] 71  } {9dde42b6-a433-473f-85f7-7d286d570363 [{3 6} {4 6} {5 6} {6 6}] 83  }]}
2020/10/25 00:45:38 [30]: &{11 11 [{8 0} {0 0} {2 3} {4 4}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{8 2} {8 1} {7 1}] 70  } {9dde42b6-a433-473f-85f7-7d286d570363 [{2 6} {3 6} {4 6} {5 6} {5 6}] 100  }]}
2020/10/25 00:45:39 [31]: &{11 11 [{8 0} {0 0} {2 3} {4 4}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{7 2} {8 2} {8 1}] 69  } {9dde42b6-a433-473f-85f7-7d286d570363 [{2 5} {2 6} {3 6} {4 6} {5 6}] 99  }]}
2020/10/25 00:45:39 [32]: &{11 11 [{8 0} {0 0} {2 3} {4 4}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{7 1} {7 2} {8 2}] 68  } {9dde42b6-a433-473f-85f7-7d286d570363 [{3 5} {2 5} {2 6} {3 6} {4 6}] 98  }]}
2020/10/25 00:45:39 [33]: &{11 11 [{8 0} {0 0} {2 3} {4 4}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{8 1} {7 1} {7 2}] 67  } {9dde42b6-a433-473f-85f7-7d286d570363 [{4 5} {3 5} {2 5} {2 6} {3 6}] 97  }]}
2020/10/25 00:45:39 [34]: &{11 11 [{8 0} {0 0} {2 3} {4 4}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{8 2} {8 1} {7 1}] 66  } {9dde42b6-a433-473f-85f7-7d286d570363 [{5 5} {4 5} {3 5} {2 5} {2 6}] 96  }]}
2020/10/25 00:45:39 [35]: &{11 11 [{8 0} {0 0} {2 3} {4 4}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{7 2} {8 2} {8 1}] 65  } {9dde42b6-a433-473f-85f7-7d286d570363 [{6 5} {5 5} {4 5} {3 5} {2 5}] 95  }]}
2020/10/25 00:45:39 [36]: &{11 11 [{8 0} {0 0} {2 3} {4 4}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{7 1} {7 2} {8 2}] 64  } {9dde42b6-a433-473f-85f7-7d286d570363 [{7 5} {6 5} {5 5} {4 5} {3 5}] 94  }]}
2020/10/25 00:45:40 [37]: &{11 11 [{8 0} {0 0} {2 3} {4 4}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{8 1} {7 1} {7 2}] 63  } {9dde42b6-a433-473f-85f7-7d286d570363 [{7 6} {7 5} {6 5} {5 5} {4 5}] 93  }]}
2020/10/25 00:45:40 [38]: &{11 11 [{8 0} {0 0} {2 3} {4 4}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{8 2} {8 1} {7 1}] 62  } {9dde42b6-a433-473f-85f7-7d286d570363 [{8 6} {7 6} {7 5} {6 5} {5 5}] 92  }]}
2020/10/25 00:45:40 [39]: &{11 11 [{8 0} {0 0} {2 3} {4 4}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{7 2} {8 2} {8 1}] 61  } {9dde42b6-a433-473f-85f7-7d286d570363 [{8 7} {8 6} {7 6} {7 5} {6 5}] 91  }]}
2020/10/25 00:45:40 [40]: &{11 11 [{8 0} {0 0} {2 3} {4 4}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{7 1} {7 2} {8 2}] 60  } {9dde42b6-a433-473f-85f7-7d286d570363 [{7 7} {8 7} {8 6} {7 6} {7 5}] 90  }]}
2020/10/25 00:45:40 [41]: &{11 11 [{8 0} {0 0} {2 3} {4 4}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{8 1} {7 1} {7 2}] 59  } {9dde42b6-a433-473f-85f7-7d286d570363 [{6 7} {7 7} {8 7} {8 6} {7 6}] 89  }]}
2020/10/25 00:45:41 [42]: &{11 11 [{8 0} {0 0} {2 3} {4 4} {2 8}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{8 2} {8 1} {7 1}] 58  } {9dde42b6-a433-473f-85f7-7d286d570363 [{6 6} {6 7} {7 7} {8 7} {8 6}] 88  }]}
2020/10/25 00:45:41 [43]: &{11 11 [{8 0} {0 0} {2 3} {4 4} {2 8} {8 4}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{7 2} {8 2} {8 1}] 57  } {9dde42b6-a433-473f-85f7-7d286d570363 [{7 6} {6 6} {6 7} {7 7} {8 7}] 87  }]}
2020/10/25 00:45:41 [44]: &{11 11 [{8 0} {0 0} {2 3} {4 4} {2 8} {8 4}] [{aa8e93a5-5659-449b-8183-c73b1166e06e [{7 1} {7 2} {8 2}] 56  } {9dde42b6-a433-473f-85f7-7d286d570363 [{7 7} {7 6} {6 6} {6 7} {7 7}] 86 snake-self-collision 9dde42b6-a433-473f-85f7-7d286d570363}]}
2020/10/25 00:45:41 [DONE]: Game completed after 44 turns. Bob is the winner.
```
